{"version":3,"sources":["components/Home/App.tsx","apis/textToSpeech.ts","constants/value.ts","reportWebVitals.ts","index.tsx"],"names":["VALUE_BUTTON","axios","require","qs","handlePostTextToSpeech","input","speaker","speech","a","console","log","result","error_code","data","url","stringify","config","method","headers","then","response","catch","error","voidData","speechRead","TextArea","Input","Option","Select","Demo","useState","value","setValue","maxText","voidPerson","setVoidPerson","setSpeech","STOP","textButton","setTextButton","source","setSource","ref","useRef","callApi","parseInt","toString","current","paused","undefined","playPromise","play","_","useEffect","container","document","querySelector","i","blocks","createElement","classList","toggle","appendChild","className","onChange","e","target","split","length","placeholder","autoSize","maxRows","minRows","rows","defaultValue","parseFloat","handleVoidChange","map","voidRead","children","handleSpeechChange","icon","StopOutlined","type","disabled","onClick","pause","CONTINUE","checkAudioIsPlaying","AudioOutlined","crossOrigin","controls","src","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.fa08f961.chunk.js","sourcesContent":["import React, { useEffect } from 'react'\nimport { useRef, useState } from 'react'\nimport { handlePostTextToSpeech } from '../../apis/textToSpeech'\nimport { voidData, speechRead } from '../../constants/value'\nimport { Input, Select, Button } from 'antd'\nimport {\n  AudioOutlined,\n  DownloadOutlined,\n  StopOutlined,\n} from '@ant-design/icons'\n\nimport './App.scss'\nimport anime from 'animejs'\n\nconst { TextArea } = Input\nconst { Option } = Select\n\nenum VALUE_BUTTON {\n  CONTINUE = 'Tiếp tục',\n  STOP = 'Dừng',\n}\nconst Demo: React.FC = () => {\n  const [value, setValue] = useState<string>('')\n  const [maxText] = useState<number>(2000)\n\n  const [voidPerson, setVoidPerson] = useState<number>(1)\n  const [speech, setSpeech] = useState<number>(1.0)\n\n  const [textButton, setTextButton] = useState<string>(VALUE_BUTTON.STOP)\n\n  const [source, setSource] = useState<string>('')\n  const ref = useRef<HTMLVideoElement | null>(null)\n  const onChange = ({ target: { value } }: { target: { value: string } }) => {\n    // Check max Word\n    if (value.split(' ').length > maxText) return\n\n    setValue(value)\n  }\n  const handleVoidChange = (value: string) => {\n    setVoidPerson(parseFloat(value))\n  }\n\n  const handleSpeechChange = (value: number) => {\n    setSpeech(value)\n  }\n\n  const checkAudioIsPlaying = () => {\n    if (ref.current?.paused === false) {\n      ref.current?.pause()\n      setTextButton(VALUE_BUTTON.CONTINUE)\n    } else {\n      setTextButton(VALUE_BUTTON.STOP)\n      ref.current?.play()\n    }\n  }\n\n  const callApi = async () => {\n    setTextButton(VALUE_BUTTON.STOP)\n    // setSource('')\n\n    const response = await handlePostTextToSpeech(value, voidPerson, speech)\n\n    if (parseInt(response?.error_code.toString()) === 0) {\n      setSource(response.data.url)\n      console.log('ok', ref.current?.paused)\n\n      var playPromise = ref.current?.play()\n\n      if (playPromise !== undefined) {\n        playPromise\n          .then((_) => {})\n          .catch((error) => {\n            console.log('err', error)\n            console.log('source', source)\n          })\n      }\n    }\n  }\n  // useEffect(() => {\n  //   console.log('effect pause: ', ref.current?.paused)\n  //   if (source) {\n  //     console.log('speak ok', source)\n\n  //     ref.current?.play()\n  //   } else {\n  //     console.log('speak pause')\n\n  //     ref.current?.pause()\n  //   }\n  //   // console.log('data pause: ', ref.current?.paused)\n  // }, [source])\n\n  useEffect(() => {\n    const container = document.querySelector<Element>('.container-block')\n\n    for (let i = 0; i < 5; i++) {\n      const blocks = document.createElement('div')\n\n      blocks.classList.toggle('glass-morphine')\n      container?.appendChild(blocks)\n    }\n\n    function animatedBlock() {\n      anime({\n        targets: '.glass-morphine',\n        translateX: function () {\n          return anime.random(-700, 700)\n        },\n        translateY: function () {\n          return anime.random(-700, 700)\n        },\n        scale: function () {\n          return anime.random(1, 3)\n        },\n        easing: 'linear',\n        duration: 3000,\n        delay: anime.stagger(5),\n        complete: animatedBlock,\n      })\n    }\n    // animatedBlock()\n  }, [])\n  return (\n    <div className=\"main-container\">\n      <TextArea\n        value={value}\n        onChange={(e) => onChange(e)}\n        placeholder=\"Controlled autosize\"\n        autoSize={{ maxRows: 7, minRows: 7 }}\n        rows={7}\n      />\n      \n      <div className=\"button-group\">\n        {/* Select Void */}\n        <Select\n          defaultValue={voidData[0][0]}\n          className=\"select-style\"\n          onChange={(e) => handleVoidChange(e.toString())}\n        >\n          {voidData.map((voidRead) => (\n            <Option\n              value={voidRead[1]}\n              key={voidRead[0]}\n              children={voidRead[0]}\n            ></Option>\n          ))}\n        </Select>\n        {/* Select Speech Read */}\n        <Select\n          defaultValue={speechRead[1]}\n          className=\"select-style\"\n          onChange={(e) => handleSpeechChange(e)}\n        >\n          {speechRead.map((speech) => (\n            <Option value={speech} key={speech} children={speech}></Option>\n          ))}\n        </Select>\n        {/* Button Stop */}\n        <Button\n          className=\"button-style\"\n          icon={<StopOutlined />}\n          type=\"ghost\"\n          disabled={source.length === 0 || value.length === 0 ? true : false}\n          onClick={() => checkAudioIsPlaying()}\n        >\n          {textButton}\n        </Button>\n        {/* Button Start */}\n        <Button\n          className=\"button-style\"\n          type=\"primary\"\n          icon={<AudioOutlined />}\n          disabled={value.length === 0 ? true : false}\n          onClick={() => callApi()}\n        >\n          Đọc\n        </Button>\n        {/* Button Download */}\n        {/* <Button\n          icon={<DownloadOutlined />}\n          type=\"dashed\"\n          danger\n          block\n          className=\"mt-10\"\n          onClick={() => downloadFile()}\n        >\n          DownLoad\n        </Button> */}\n      </div>\n      {source === '' ? null : (\n        <audio\n          // media-player=\"audioPlayer\"\n          crossOrigin=\"anonymous\"\n          controls\n          ref={ref}\n          src={source}\n          className=\"mt-10\"\n          \n          // name=\"media\"\n        >\n          <source src={source} type=\"audio/mp4\" />\n        </audio>\n      )}\n      <div className=\"container-block\"></div>\n    </div>\n  )\n}\n\nexport default Demo\n","import { TypeHeader, typeRes } from \"../hook/type\";\nvar axios = require(\"axios\");\nvar qs = require(\"qs\");\n\nexport const handlePostTextToSpeech = async (input: string, speaker: number, speech: number) => {\n  console.log(\"par\", input, speaker, speech);\n\n  var result: typeRes = {\n    error_code: -1,\n    data: { url: \"\" },\n  };\n\n  var data = qs.stringify({\n    \"input\": `${input}`,\n    \"speaker_id\": `${speaker}`,\n    \"speed\": `${speech}`,\n    \"encode_type\": 0,\n  });\n  var config = {\n    method: \"post\",\n    url: \"https://api.zalo.ai/v1/tts/synthesize\",\n    headers: {\n      \"apikey\": \"s6GopJmGpsTiGyHiUYm252RsgH960r8Y\",\n      \"Content-Type\": \"application/x-www-form-urlencoded\",\n    },\n    data: data,\n  };\n\n  await axios(config)\n    .then(function (response: any) {\n      result.data.url = response.data.data.url;\n      result.error_code = response.data.error_code;\n    })\n    .catch(function (error: Error) {\n      console.log(error);\n    });\n\n  return result;\n};\n","export const voidData = [[\"Nữ miền Bắc\",1], [\"Nữ miền Nam\",2], [\"Nam miền Bắc\",3], [\"Nam miền Nam\",4]];\nexport const speechRead = [0.8, 1.0, 1.2];\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/Home/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}