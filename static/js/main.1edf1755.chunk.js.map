{"version":3,"sources":["hook/type.ts","apis/textToSpeech.ts","constants/value.ts","components/Home/App.tsx","reportWebVitals.ts","index.tsx"],"names":["VALUE_BUTTON","axios","require","qs","handlePostTextToSpeech","input","speaker","speech","a","console","log","result","error_code","data","url","stringify","config","method","headers","then","response","catch","error","voidData","speechRead","TextArea","Input","Option","Select","Demo","useState","value","setValue","maxText","voidPerson","setVoidPerson","setSpeech","STOP","textButton","setTextButton","source","setSource","ref","useRef","callApi","parseInt","toString","undefined","playPromise","current","play","_","useEffect","container","document","querySelector","i","blocks","createElement","classList","toggle","appendChild","animatedBlock","anime","targets","translateX","random","translateY","scale","easing","duration","delay","stagger","complete","className","onChange","e","target","split","length","placeholder","autoSize","maxRows","minRows","rows","defaultValue","parseFloat","handleVoidChange","map","voidRead","children","handleSpeechChange","icon","StopOutlined","type","disabled","onClick","paused","pause","CONTINUE","checkAudioIsPlaying","AudioOutlined","crossOrigin","controls","src","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.1edf1755.chunk.js","sourcesContent":["export type TypeHeader = {\n  method: string;\n  headers: Headers;\n  body: BodyInit;\n  redirect: RequestRedirect | undefined;\n};\n\nexport type typeRes = {\n  error_code: number;\n  data: { url: string };\n};\n\nexport enum VALUE_BUTTON {\n  CONTINUE = 'Tiếp tục',\n  STOP = 'Dừng',\n}","import { TypeHeader, typeRes } from \"../hook/type\";\nvar axios = require(\"axios\");\nvar qs = require(\"qs\");\n\nexport const handlePostTextToSpeech = async (input: string, speaker: number, speech: number) => {\n  console.log(\"par\", input, speaker, speech);\n\n  var result: typeRes = {\n    error_code: -1,\n    data: { url: \"\" },\n  };\n\n  var data = qs.stringify({\n    \"input\": `${input}`,\n    \"speaker_id\": `${speaker}`,\n    \"speed\": `${speech}`,\n    \"encode_type\": 0,\n  });\n  var config = {\n    method: \"post\",\n    url: \"https://api.zalo.ai/v1/tts/synthesize\",\n    headers: {\n      \"apikey\": \"s6GopJmGpsTiGyHiUYm252RsgH960r8Y\",\n      \"Content-Type\": \"application/x-www-form-urlencoded\",\n    },\n    data: data,\n  };\n\n  await axios(config)\n    .then(function (response: any) {\n      result.data.url = response.data.data.url;\n      result.error_code = response.data.error_code;\n    })\n    .catch(function (error: Error) {\n      console.log(error);\n    });\n\n  return result;\n};\n","export const voidData = [[\"Nữ miền Bắc\",1], [\"Nữ miền Nam\",2], [\"Nam miền Bắc\",3], [\"Nam miền Nam\",4]];\nexport const speechRead = [0.8, 1.0, 1.2];\n","import React, { useEffect } from 'react'\nimport { useRef, useState } from 'react'\nimport { Input, Select, Button } from 'antd'\nimport { AudioOutlined, StopOutlined } from '@ant-design/icons'\nimport anime from 'animejs'\n\nimport './App.scss'\nimport { handlePostTextToSpeech } from '../../apis/textToSpeech'\nimport { voidData, speechRead } from '../../constants/value'\nimport { VALUE_BUTTON } from '../../hook/type'\n\nconst { TextArea } = Input\nconst { Option } = Select\n\nconst Demo: React.FC = () => {\n  // Create State\n  const [value, setValue] = useState<string>('')\n  const [maxText] = useState<number>(2000)\n\n  const [voidPerson, setVoidPerson] = useState<number>(1)\n  const [speech, setSpeech] = useState<number>(1.0)\n\n  const [textButton, setTextButton] = useState<string>(VALUE_BUTTON.STOP)\n\n  const [source, setSource] = useState<string>('')\n  // Create Ref\n  const ref = useRef<HTMLVideoElement | null>(null)\n\n  // Function\n  const onChange = ({ target: { value } }: { target: { value: string } }) => {\n    // Check max Word\n    if (value.split(' ').length > maxText) return\n\n    setValue(value)\n  }\n\n  // Set value Void Person\n  const handleVoidChange = (value: string) => {\n    setVoidPerson(parseFloat(value))\n  }\n\n  // Set value Speech\n  const handleSpeechChange = (value: number) => {\n    setSpeech(value)\n  }\n\n  // Action Button\n  const checkAudioIsPlaying = () => {\n    // If audio paused = false => set pause = true, set text button = Tiep Tuc\n    // Else set text button = Dung, set audio = play\n    if (ref.current?.paused === false) {\n      ref.current?.pause()\n      setTextButton(VALUE_BUTTON.CONTINUE)\n    } else {\n      setTextButton(VALUE_BUTTON.STOP)\n      ref.current?.play()\n    }\n  }\n\n  // Action Button Doc\n  const callApi = async () => {\n    // Set text button = Dung\n    setTextButton(VALUE_BUTTON.STOP)\n\n    // Call API get file audio type WAV\n    const response = await handlePostTextToSpeech(value, voidPerson, speech)\n\n    // Check data response was success\n    if (parseInt(response?.error_code.toString()) === 0) {\n      setSource(response.data.url)\n\n      // Function play() is a promise so I used then() and catch()\n      var playPromise = ref.current?.play()\n\n      if (playPromise !== undefined) {\n        playPromise\n          .then((_) => {})\n          .catch((error) => {\n            console.log('err', error)\n            setSource(\"\")\n            // console.log('source', source)\n          })\n      }\n    }\n  }\n\n  // Function Init Animation background\n  useEffect(() => {\n    const container = document.querySelector<Element>('.container-block')\n\n    for (let i = 0; i < 5; i++) {\n      const blocks = document.createElement('div')\n\n      blocks.classList.toggle('glass-morphine')\n      container?.appendChild(blocks)\n    }\n\n    function animatedBlock() {\n      anime({\n        targets: '.glass-morphine',\n        translateX: function () {\n          return anime.random(-700, 700)\n        },\n        translateY: function () {\n          return anime.random(-700, 700)\n        },\n        scale: function () {\n          return anime.random(1, 3)\n        },\n        easing: 'linear',\n        duration: 3000,\n        delay: anime.stagger(5),\n        complete: animatedBlock,\n      })\n    }\n    animatedBlock()\n  }, [])\n  return (\n    <div className=\"main-container\">\n      {/* Text Area */}\n      <TextArea\n        value={value}\n        onChange={(e) => onChange(e)}\n        placeholder=\"Controlled autosize\"\n        autoSize={{ maxRows: 7, minRows: 7 }}\n        rows={7}\n      />\n\n      <div className=\"button-group\">\n        {/* Select Void */}\n        <Select\n          defaultValue={voidData[0][0]}\n          className=\"select-style\"\n          onChange={(e) => handleVoidChange(e.toString())}\n        >\n          {voidData.map((voidRead) => (\n            <Option\n              value={voidRead[1]}\n              key={voidRead[0]}\n              children={voidRead[0]}\n            ></Option>\n          ))}\n        </Select>\n        {/* Select Speech Read */}\n        <Select\n          defaultValue={speechRead[1]}\n          className=\"select-style\"\n          onChange={(e) => handleSpeechChange(e)}\n        >\n          {speechRead.map((speech) => (\n            <Option value={speech} key={speech} children={speech}></Option>\n          ))}\n        </Select>\n        {/* Button Stop */}\n        <Button\n          className=\"button-style\"\n          icon={<StopOutlined />}\n          type=\"ghost\"\n          disabled={source.length === 0 || value.length === 0 ? true : false}\n          onClick={() => checkAudioIsPlaying()}\n        >\n          {textButton}\n        </Button>\n        {/* Button Start */}\n        <Button\n          className=\"button-style\"\n          type=\"primary\"\n          icon={<AudioOutlined />}\n          disabled={value.length === 0 ? true : false}\n          onClick={() => callApi()}\n        >\n          Đọc\n        </Button>\n        {/* Media Audio */}\n      </div>\n      {source === '' ? null : (\n        <audio\n          crossOrigin=\"anonymous\"\n          controls\n          ref={ref}\n          src={source}\n          className=\"mt-10\"\n        >\n          <source src={source} type=\"audio/mp4\" />\n        </audio>\n      )}\n      <div className=\"container-block\"></div>\n    </div>\n  )\n}\n\nexport default Demo\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/Home/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}